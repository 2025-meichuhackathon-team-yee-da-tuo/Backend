# ç™»å…¥/è¨»å†Šç³»çµ±å¾Œç«¯æœå‹™

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ Node.jsã€Express å’Œ MongoDB å»ºç«‹çš„å¾Œç«¯æœå‹™ï¼Œæä¾›ä½¿ç”¨è€…è¨»å†Šå’Œç™»å…¥çš„ APIã€‚

## âœ¨ åŠŸèƒ½

-   ä½¿ç”¨è€…è¨»å†Š
-   ä½¿ç”¨è€…ç™»å…¥
-   å¯†ç¢¼åŠ å¯†å„²å­˜

## ğŸš€ æŠ€è¡“æ£§

-   **åŸ·è¡Œç’°å¢ƒ:** [Node.js](https://nodejs.org/)
-   **ç¶²é æ¡†æ¶:** [Express.js](https://expressjs.com/)
-   **è³‡æ–™åº«:** [MongoDB](https://www.mongodb.com/)
-   **ODM (ç‰©ä»¶è³‡æ–™æ¨¡å‹):** [Mongoose](https://mongoosejs.com/)
-   **å¯†ç¢¼åŠ å¯†:** [Bcrypt.js](https://github.com/dcodeIO/bcrypt.js)
-   **ç’°å¢ƒè®Šæ•¸ç®¡ç†:** [Dotenv](https://github.com/motdotla/dotenv)
-   **è·¨ä¾†æºè³‡æºå…±ç”¨:** [CORS](https://github.com/expressjs/cors)

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
.
â”œâ”€â”€ server.js               # ä¼ºæœå™¨ä¸»å…¥å£æª”æ¡ˆï¼Œè² è²¬å•Ÿå‹•æœå‹™ã€é€£æ¥è³‡æ–™åº«
â”œâ”€â”€ package.json            # å°ˆæ¡ˆè¨­å®šèˆ‡å¥—ä»¶ä¾è³´æ¸…å–®
â”œâ”€â”€ .env                    # (éœ€æ‰‹å‹•å»ºç«‹) ç’°å¢ƒè®Šæ•¸æª”æ¡ˆï¼Œå­˜æ”¾è³‡æ–™åº«é€£ç·šè³‡è¨Š
â”œâ”€â”€ controllers             # å­˜æ”¾æ ¸å¿ƒæ¥­å‹™é‚è¼¯
â”‚   â””â”€â”€ authController.js   # è™•ç†è¨»å†Šå’Œç™»å…¥çš„é‚è¼¯
â”œâ”€â”€ models                  # å­˜æ”¾è³‡æ–™åº«æ¨¡å‹ (Schema)
â”‚   â””â”€â”€ User.js             # å®šç¾©ä½¿ç”¨è€…è³‡æ–™åœ¨è³‡æ–™åº«ä¸­çš„çµæ§‹
â””â”€â”€ routes                  # å­˜æ”¾ API è·¯ç”±è¨­å®š
    â””â”€â”€ auth.js             # å®šç¾© /register å’Œ /login è·¯ç”±
```

---

## ğŸ› ï¸ å¿«é€Ÿé–‹å§‹

### 1. å‰ç½®æº–å‚™

è«‹ç¢ºä¿æ‚¨çš„é–‹ç™¼ç’°å¢ƒä¸­å·²å®‰è£ [Node.js](https://nodejs.org/) (å»ºè­°ç‰ˆæœ¬ > 14.x) å’Œ [MongoDB](https://www.mongodb.com/try/download/community)ã€‚

### 2. å®‰è£ä¾è³´

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹ï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å®‰è£æ‰€æœ‰å¿…è¦çš„å¥—ä»¶ï¼š

```bash
npm install
```

### 3. è¨­å®šç’°å¢ƒè®Šæ•¸

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹ï¼Œæ‰‹å‹•å»ºç«‹ä¸€å€‹åç‚º `.env` çš„æª”æ¡ˆï¼Œä¸¦å¡«å…¥æ‚¨çš„ MongoDB Atlas é€£ç·šå­—ä¸²ï¼š

```
MONGO_URI=mongodb+srv://<ä½ çš„ä½¿ç”¨è€…åç¨±>:<ä½ çš„å¯†ç¢¼>@<ä½ çš„clusterç¶²å€>/<ä½ çš„è³‡æ–™åº«åç¨±>?retryWrites=true&w=majority
PORT=5000
```
> **æ³¨æ„:** è«‹å‹™å¿…å°‡ `<...>` éƒ¨åˆ†æ›¿æ›æˆæ‚¨è‡ªå·±çš„çœŸå¯¦è³‡è¨Šã€‚

### 4. å•Ÿå‹•ä¼ºæœå™¨

åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†å•Ÿå‹•å¾Œç«¯ä¼ºæœå™¨ï¼š

```bash
npm start
```

ç•¶æ‚¨åœ¨çµ‚ç«¯æ©Ÿçœ‹åˆ°ä»¥ä¸‹è¨Šæ¯æ™‚ï¼Œè¡¨ç¤ºä¼ºæœå™¨å·²æˆåŠŸå•Ÿå‹•ï¼š

```
MongoDB Connected...
Server started on port 5000
```

## ğŸ”Œ API ç«¯é»èªªæ˜

### è¨»å†Š (Register)

-   **URL:** `/api/auth/register`
-   **Method:** `POST`
-   **Body (Request):**
    ```json
    {
      "email": "test@example.com",
      "password": "password123",
      "confirmPassword": "password123"
    }
    ```
-   **Body (Response):**
    -   **æˆåŠŸ:** `{ "code": 0 }`
    -   **å¤±æ•—:**
        -   `{ "code": 1 }` (ä¿¡ç®±å·²è¢«è¨»å†Š)
        -   `{ "code": 2 }` (å¯†ç¢¼é•·åº¦ä¸è¶³ 8 å€‹å­—)
        -   `{ "code": 3 }` (å…©æ¬¡è¼¸å…¥çš„å¯†ç¢¼ä¸ç›¸åŒ)

### ç™»å…¥ (Login)

-   **URL:** `/api/auth/login`
-   **Method:** `POST`
-   **Body (Request):**
    ```json
    {
      "email": "test@example.com",
      "password": "password123"
    }
    ```
-   **Body (Response):**
    -   **æˆåŠŸ:** `{ "code": 0 }`
    -   **å¤±æ•—:** `{ "code": 1 }` (ä¿¡ç®±æˆ–å¯†ç¢¼éŒ¯èª¤)
